<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LAMOLAB | Portfolio Estrat√©gico</title>
    
    <!-- Cargar p5.js para el cursor -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js"></script>

    <style>
        /* --- 1. VARIABLES DE MARCA --- */
        :root {
            --bg-color: #EADCCB;      /* Beige Hueso */
            --text-color: #4A3F35;    /* Marr√≥n Caf√© */
            --accent-color: #15038C;  /* Azul Klein */
            --highlight: #D5A021;     /* Mostaza */
            --white-off: #F2F2E4;     /* Blanco Roto */
            --dark-overlay: #1a1a1a;  /* Para cookies/modal */
        }

        html { scroll-behavior: smooth; }
        * { box-sizing: border-box; margin: 0; padding: 0; cursor: none; /* Ocultamos cursor sistema */ }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            line-height: 1.3;
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
        }

        a { text-decoration: none; color: inherit; transition: all 0.3s ease; cursor: none; }

        /* --- CURSOR P5 CONTAINER --- */
        #p5-canvas-container {
            position: fixed;
            top: 0; left: 0;
            width: 100vw; height: 100vh;
            z-index: 99999;
            pointer-events: none; /* Permite clickar a trav√©s */
        }

        /* --- LAYOUT --- */
        .page-frame {
            border-left: 1px solid var(--text-color);
            border-right: 1px solid var(--text-color);
            max-width: 1440px;
            margin: 0 auto;
            background-color: var(--bg-color);
            min-height: 100vh;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        /* --- HEADER --- */
        header {
            position: sticky; top: 0;
            background-color: var(--bg-color);
            border-bottom: 1px solid var(--text-color);
            padding: 25px 40px;
            display: flex; justify-content: space-between; align-items: center;
            z-index: 1000;
        }
        .brand { font-weight: 900; font-size: 1.5rem; line-height: 1; text-transform: uppercase; }
        .brand span { display: block; font-size: 0.7rem; font-weight: 400; font-family: monospace; margin-top: 5px; }
        
        nav ul { display: flex; gap: 15px; list-style: none; }
        nav a {
            font-size: 0.75rem; text-transform: uppercase; font-weight: 700; letter-spacing: 1px;
            border: 1px solid var(--text-color); padding: 10px 20px; border-radius: 50px;
        }
        /* Estilo activo/hover navegaci√≥n */
        nav a:hover, nav a.active-nav { background-color: var(--accent-color); color: #fff; border-color: var(--accent-color); }

        /* --- HERO --- */
        #home {
            padding: 100px 40px; border-bottom: 1px solid var(--text-color);
            min-height: 80vh; display: flex; flex-direction: column; justify-content: center;
        }
        h1 {
            font-size: clamp(4rem, 10vw, 9rem); font-weight: 900; line-height: 0.85;
            text-transform: uppercase; letter-spacing: -3px; margin-bottom: 40px; margin-left: -5px;
        }
        .outline { color: transparent; -webkit-text-stroke: 2px var(--text-color); }
        .hero-copy {
            max-width: 500px; font-size: 1.2rem; line-height: 1.4;
            margin-left: auto; border-left: 3px solid var(--accent-color); padding-left: 20px;
        }

        /* --- PORTFOLIO (ESTILO GRAPHEINE) --- */
        #portfolio { border-bottom: 1px solid var(--text-color); padding-bottom: 60px; }
        
        /* Barra de Filtros */
        .portfolio-filter-bar {
            padding: 30px 40px;
            border-bottom: 1px solid rgba(74, 63, 53, 0.2);
            display: flex; justify-content: space-between; align-items: center;
            font-family: 'Helvetica Neue', sans-serif;
            font-weight: 700;
            font-size: 0.9rem;
            text-transform: uppercase;
        }
        .filter-group { display: flex; gap: 30px; }
        .filter-btn { opacity: 0.5; cursor: none; transition: opacity 0.3s; position: relative; }
        .filter-btn.active { opacity: 1; color: var(--accent-color); }
        .filter-btn:hover { opacity: 1; }
        
        .sub-sectors {
            display: none; /* Oculto por defecto */
            gap: 20px; margin-left: 40px; font-size: 0.8rem; opacity: 0.7;
        }
        .sub-sectors.show { display: flex; }

        /* Grid de Tarjetas de Colores */
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            padding: 40px;
        }

        .project-card {
            aspect-ratio: 16/9;
            position: relative;
            cursor: none;
            transition: transform 0.3s ease;
            overflow: hidden;
        }
        .project-card:hover { transform: scale(1.02); }

        /* Estado 0: Tarjeta de Color con Texto */
        .card-face-color {
            width: 100%; height: 100%;
            display: flex; align-items: center; justify-content: center;
            flex-direction: column;
            padding: 20px;
            text-align: center;
            transition: opacity 0.3s;
        }
        
        /* Colores espec√≠ficos para cada tarjeta */
        .bg-p1 { background-color: #D68C99; color: var(--accent-color); } /* Rosa tipo Caramba */
        .bg-p2 { background-color: var(--accent-color); color: var(--white-off); }
        .bg-p3 { background-color: var(--highlight); color: var(--text-color); }

        .card-title {
            font-size: 2.5rem; font-weight: 900; text-transform: uppercase;
            line-height: 0.9; letter-spacing: -1px;
        }
        .card-cat { margin-top: 10px; font-family: monospace; font-size: 0.8rem; text-transform: uppercase; }

        /* Estado 1: Imagen de portada (Oculta al inicio) */
        .card-face-image {
            position: absolute; top: 0; left: 0;
            width: 100%; height: 100%;
            object-fit: cover;
            opacity: 0;
            pointer-events: none; 
            transition: opacity 0.4s ease;
        }
        
        /* Clase para activar la imagen */
        .project-card.show-image .card-face-color { opacity: 0; }
        .project-card.show-image .card-face-image { opacity: 1; }


        /* --- ABOUT --- */
        #about {
            display: grid; grid-template-columns: 1fr 1fr; min-height: 80vh;
            border-bottom: 1px solid var(--text-color);
        }
        .about-visual {
            border-right: 1px solid var(--text-color);
            background-color: rgba(74, 63, 53, 0.05);
            overflow: hidden;
        }
        .profile-pic { width: 100%; height: 100%; object-fit: cover; filter: grayscale(100%); }

        .about-content { padding: 80px 60px; display: flex; flex-direction: column; justify-content: center; }
        .about-content h2 { font-size: 2.5rem; line-height: 1; margin-bottom: 30px; text-transform: uppercase; }
        .btn-big {
            display: inline-block; margin-top: 30px; font-size: 1.2rem; font-weight: 900;
            text-transform: uppercase; padding: 20px 40px; border: 2px solid var(--text-color);
        }

        /* --- FOOTER ESTILO GRAPHEINE (NUEVO) --- */
        footer {
            background-color: var(--accent-color); /* Azul Intenso */
            color: var(--bg-color); /* Beige */
            padding: 100px 40px 40px 40px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 80vh; /* Footer gigante */
            position: relative;
            overflow: hidden;
        }

        .footer-top {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 60px;
        }

        .footer-nav-big {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .footer-nav-big a {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 700;
            line-height: 1.1;
            text-transform: uppercase;
            transition: opacity 0.3s;
        }
        .footer-nav-big a:hover {
            opacity: 0.6;
            transform: translateX(10px);
        }

        .footer-quote {
            max-width: 300px;
            text-align: right;
            font-size: 1.2rem;
            line-height: 1.5;
            opacity: 0.8;
            border-right: 2px solid var(--bg-color);
            padding-right: 20px;
        }

        .footer-brand-big {
            font-size: clamp(4rem, 18vw, 20rem); /* GIGANTE */
            font-weight: 900;
            text-transform: uppercase;
            line-height: 0.8;
            letter-spacing: -0.04em;
            text-align: center;
            width: 100%;
            margin: 40px 0;
            white-space: nowrap;
        }

        .footer-bottom {
            display: flex;
            justify-content: space-between;
            border-top: 1px solid rgba(234, 220, 200, 0.3);
            padding-top: 20px;
            font-size: 0.9rem;
            font-family: monospace;
            text-transform: uppercase;
        }
        .footer-socials { display: flex; gap: 20px; }
        .footer-socials a { font-weight: 700; }


        /* --- COOKIES FLOTANTE --- */
        .cookie-banner {
            position: fixed; bottom: 30px; left: 30px;
            width: 350px;
            background-color: var(--dark-overlay);
            color: #fff;
            padding: 30px;
            z-index: 9999;
            font-family: 'Helvetica Neue', sans-serif;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            display: flex; flex-direction: column; gap: 20px;
        }
        .cookie-icon { font-size: 2rem; color: #4A90E2; margin-bottom: 10px; }
        .cookie-title { font-weight: 700; font-size: 1.2rem; }
        .cookie-text { font-size: 0.9rem; line-height: 1.4; opacity: 0.8; }
        .cookie-actions { display: flex; flex-direction: column; gap: 10px; }
        .btn-cookie-accept {
            background: #000; color: #fff; border: 1px solid #fff; padding: 12px;
            text-align: center; font-weight: 700; font-size: 0.9rem; cursor: none;
        }
        .cookie-row-btns { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .btn-cookie-sec {
            background: transparent; border: 1px solid #fff; color: #fff; padding: 10px;
            text-align: center; font-size: 0.8rem; cursor: none;
        }


        /* --- MODAL PROYECTO (Pantalla Completa) --- */
        #project-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-color);
            z-index: 10000;
            overflow-y: scroll; /* Scroll dentro del modal */
            display: none; /* Oculto por defecto */
        }
        .modal-close-btn {
            position: fixed; top: 30px; right: 40px;
            font-size: 2rem; cursor: none; z-index: 10002;
            background: var(--accent-color); color: #fff;
            width: 50px; height: 50px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
        }

        /* Header Imagen Gigante */
        .modal-hero {
            height: 80vh; width: 100%;
            position: relative;
        }
        .modal-hero-img { width: 100%; height: 100%; object-fit: cover; }

        /* Contenido Scrolling */
        .modal-content {
            max-width: 1000px; margin: 0 auto;
            padding: 100px 40px;
            position: relative;
        }
        
        .project-description {
            font-size: 1.5rem; line-height: 1.6;
            margin-bottom: 100px;
            transform: translateY(50px); opacity: 0; transition: all 1s;
        }
        .project-description.visible { transform: translateY(0); opacity: 1; }

        .project-gallery { display: grid; gap: 40px; }
        .gallery-img { width: 100%; display: block; }

        /* Responsive ajustes */
        @media (max-width: 768px) {
            .footer-top { flex-direction: column; gap: 40px; }
            .footer-quote { text-align: left; border-left: 2px solid var(--bg-color); border-right: none; padding-left: 20px; padding-right: 0; }
            .footer-bottom { flex-direction: column; gap: 20px; text-align: center; }
            .footer-socials { justify-content: center; }
        }

    </style>
</head>
<body>

    <!-- CONTAINER P5 PARA EL CURSOR -->
    <div id="p5-canvas-container"></div>

    <!-- COOKIE BANNER (EN ESPA√ëOL) -->
    <div class="cookie-banner" id="cookieBanner">
        <div class="cookie-icon">üç™</div>
        <div class="cookie-title">Utilizamos cookies</div>
        <div class="cookie-text">
            Podemos utilizarlas para analizar los datos de nuestros visitantes, mejorar nuestro sitio web y mostrar contenido personalizado.
        </div>
        <div class="cookie-actions">
            <div class="btn-cookie-accept" onclick="closeCookies()">Aceptar todo</div>
            <div class="cookie-row-btns">
                <div class="btn-cookie-sec" onclick="closeCookies()">No, ajustar</div>
                <div class="btn-cookie-sec" onclick="closeCookies()">Rechazar</div>
            </div>
        </div>
    </div>

    <!-- MODAL PROYECTO -->
    <div id="project-modal">
        <div class="modal-close-btn" onclick="closeModal()">√ó</div>
        
        <div class="modal-hero">
            <!-- Imagen principal que cambia din√°micamente -->
            <img src="" id="modal-main-img" class="modal-hero-img" alt="Cover">
        </div>
        
        <div class="modal-content">
            <div class="project-description" id="modal-desc">
                <!-- Texto din√°mico se inyecta aqu√≠ -->
            </div>

            <div class="project-gallery" id="modal-gallery">
                <!-- Im√°genes din√°micas se inyectan aqu√≠ -->
            </div>
        </div>
    </div>


    <!-- P√ÅGINA PRINCIPAL -->
    <div class="page-frame">

        <header>
            <a href="#home" class="brand">LAMOLAB<span>Strategy & Design</span></a>
            <nav>
                <ul>
                    <li><a href="#portfolio" onclick="activateNav(this)">Portfolio</a></li>
                    <li><a href="#about" onclick="activateNav(this)">Estudio</a></li>
                    <li><a href="#contact" onclick="activateNav(this)">Contacto</a></li>
                </ul>
            </nav>
        </header>

        <section id="home">
            <h1>Dise√±o<br><span class="outline">M√©todo</span><br>Prop√≥sito</h1>
            <div class="hero-copy">
                <p>El pensamiento supera a la orquesta. Identidad visual para marcas que buscan valor real, no solo est√©tica vac√≠a.</p>
            </div>
        </section>

        <!-- SECCI√ìN PORTFOLIO REDISE√ëADA -->
        <section id="portfolio">
            <!-- Barra de Filtros -->
            <div class="portfolio-filter-bar">
                <div class="filter-group">
                    <span class="filter-btn active" id="btn-todos" onclick="filterPortfolio('todos')">Todos</span>
                    <span class="filter-btn" id="btn-sectores" onclick="filterPortfolio('sectores')">Sectores</span>
                </div>
                <div class="sub-sectors" id="sub-sectors-group">
                    <span class="filter-btn" onclick="filterSpecific('arte')">Direcci√≥n de Arte</span>
                    <span class="filter-btn" onclick="filterSpecific('editorial')">Editorial</span>
                    <span class="filter-btn" onclick="filterSpecific('campana')">Campa√±a</span>
                </div>
                <div>[ SELECCI√ìN 2025 ]</div>
            </div>

            <!-- Grid de Proyectos -->
            <div class="projects-grid" id="projects-grid">
                
                <!-- PROYECTO 1: Naturaleza Muerta -->
                <div class="project-card bg-p1" id="card-1" data-category="arte" onclick="handleCardClick(1)">
                    <!-- Cara Color -->
                    <div class="card-face-color">
                        <div class="card-title">NATURALEZA<br>MUERTA</div>
                        <div class="card-cat">Direcci√≥n de Arte</div>
                    </div>
                    <!-- Cara Imagen (Oculta) -->
                    <img src="naturaleza1.jpg" class="card-face-image" alt="Project Cover">
                </div>

                <!-- PROYECTO 2: Puentes -->
                <div class="project-card bg-p2" id="card-2" data-category="editorial" onclick="handleCardClick(2)">
                    <div class="card-face-color">
                        <div class="card-title">PUENTES DE<br>ZARAGOZA</div>
                        <div class="card-cat">Editorial</div>
                    </div>
                    <img src="puentes1.jpg" class="card-face-image" alt="Project Cover">
                </div>

                <!-- PROYECTO 3: Change -->
                <div class="project-card bg-p3" id="card-3" data-category="campana" onclick="handleCardClick(3)">
                    <div class="card-face-color">
                        <div class="card-title">CHANGE YOUR<br>APPROACH</div>
                        <div class="card-cat">Activismo</div>
                    </div>
                    <img src="change1.jpg" class="card-face-image" alt="Project Cover">
                </div>

            </div>
        </section>

        <section id="about">
            <div class="about-visual">
                <img src="foto.png" alt="Emilio Padilla" class="profile-pic">
            </div>
            
            <div class="about-content">
                <h2>Del Control de Calidad al <span style="color: var(--highlight);">Dise√±o Consciente</span>.</h2>
                <p><strong>Lamolab</strong> nace de una convicci√≥n: el dise√±o no es decoraci√≥n, es estrategia. Tras a√±os liderando departamentos de calidad, traslado esa metodolog√≠a rigurosa al universo creativo.</p>
                <p>Me distancio del modelo de "dise√±ador orquesta". Cada proyecto se aborda desde la investigaci√≥n, rechazando la precariedad a favor de identidades duraderas y honestas.</p>
                <a href="mailto:hola@lamolab.com" class="btn-big">Solicitar Presupuesto ‚Üí</a>
            </div>
        </section>

        <!-- FOOTER NUEVO ESTILO GRAPHEINE -->
        <footer id="contact">
            <div class="footer-top">
                <nav class="footer-nav-big">
                    <a href="#portfolio">Portfolio</a>
                    <a href="#about">Estudio</a>
                    <a href="mailto:hola@lamolab.com">Contacto</a>
                </nav>
                
                <div class="footer-quote">
                    "El dise√±o es el embajador silencioso de tu marca."
                    <br><br>
                    <strong>Zaragoza, Espa√±a</strong>
                </div>
            </div>

            <div class="footer-brand-big">LAMOLAB</div>

            <div class="footer-bottom">
                <div>¬© 2025 Lamolab Strategy & Design</div>
                <div class="footer-socials">
                    <a href="#">Behance</a>
                    <a href="#">LinkedIn</a>
                    <a href="#">Instagram</a>
                </div>
                <div>Cookies & Legal</div>
            </div>
        </footer>

    </div>


    <!-- SCRIPT P5 Y LOGICA -->
    <script>
        // --- 1. CURSOR CON P5.JS ---
        function setup() {
            let canvas = createCanvas(windowWidth, windowHeight);
            canvas.parent('p5-canvas-container');
            noCursor(); // Ocultar cursor nativo
        }

        function draw() {
            clear(); // Fondo transparente
            
            // Interpolaci√≥n para movimiento suave
            let targetX = mouseX;
            let targetY = mouseY;
            
            // Dibujar c√≠rculo azul
            fill('#15038C');
            noStroke();
            circle(targetX, targetY, 20);
        }

        function windowResized() {
            resizeCanvas(windowWidth, windowHeight);
        }


        // --- 2. FILTROS PORTFOLIO ---
        function filterPortfolio(type) {
            // Botones principales
            document.getElementById('btn-todos').classList.remove('active');
            document.getElementById('btn-sectores').classList.remove('active');
            document.getElementById(`btn-${type}`).classList.add('active');

            const subGroup = document.getElementById('sub-sectors-group');
            const cards = document.querySelectorAll('.project-card');

            if (type === 'sectores') {
                subGroup.classList.add('show');
                // Ocultar todas las tarjetas hasta seleccionar un sub-sector (o mostrarlas todas por defecto)
                // Aqu√≠ las dejaremos visibles para no dejar huecos vac√≠os de golpe
            } else {
                subGroup.classList.remove('show');
                // Mostrar todas
                cards.forEach(card => card.style.display = 'block');
            }
        }

        function filterSpecific(cat) {
            const cards = document.querySelectorAll('.project-card');
            cards.forEach(card => {
                if (card.dataset.category === cat) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }


        // --- 3. LOGICA DE CLICKS EN TARJETAS (DOBLE ESTADO) ---
        let clickState = { 1: 0, 2: 0, 3: 0 }; // 0: color, 1: imagen, 2: modal

        function handleCardClick(id) {
            const card = document.getElementById(`card-${id}`);
            
            if (clickState[id] === 0) {
                // Primer clic: Mostrar imagen
                card.classList.add('show-image');
                clickState[id] = 1;
            } else {
                // Segundo clic: Abrir Modal
                openModal(id);
                // Resetear estado tarjeta (opcional)
                // clickState[id] = 0;
                // card.classList.remove('show-image');
            }
        }


        // --- 4. MODAL CON SCROLL NARRATIVO ---
        const projectData = {
            1: {
                img: 'naturaleza1.jpg',
                gallery: ['naturaleza1.jpg', 'naturaleza2.jpg', 'naturaleza3.jpg'],
                text: `<h3>Naturaleza Muerta: Composici√≥n y Luz</h3>
                       <p><strong>Descripci√≥n:</strong> He pensado fotografiar bodegones con frutas despu√©s de hacer algunas pruebas con frutas que ten√≠a en casa he pensado en hacer una serie con frutas y verduras rojas para as√≠ seguir una misma l√≠nea los planteamientos est√©ticos que he realizado realzan la belleza y el impacto visual de las im√°genes.</p>
                       <p><strong>Composici√≥n:</strong> En la composici√≥n he tenido en cuenta componer verduras, en este caso pimientos y tomates por un lado y frutas; manzanas y uvas, moras y granadas por otro.</p>
                       <p><strong>Iluminaci√≥n:</strong> He utilizado luz natural para las frutas rojas y apoyo de luz indirecta para crear sombras para el pimiento, las manzanas y los tomates.</p>
                       <p><strong>Experimentaci√≥n:</strong> He experimentado diferentes formas para realizar las fotograf√≠as, Diferentes √°ngulos enfoques configuraciones de velocidad de obturaci√≥n.</p>`
            },
            2: {
                img: 'puentes1.jpg',
                gallery: ['puentes1.jpg', 'puentes2.jpg', 'puentes3.jpg'],
                text: `<h3>Los Puentes de Zaragoza: Patrimonio</h3>
                       <p>Un recorrido visual por la estructura y la historia de los puentes que conectan la ciudad. An√°lisis de formas, materiales y su integraci√≥n en el paisaje urbano.</p>`
            },
            3: {
                img: 'change1.jpg',
                gallery: ['change1.jpg', 'change2.jpg', 'change3.jpg'],
                text: `<h3>Change Your Approach: Activismo Visual</h3>
                       <p>Campa√±a de concienciaci√≥n social basada en la tipograf√≠a disruptiva y el color para captar la atenci√≥n sobre problem√°ticas urgentes.</p>`
            }
        };

        function openModal(id) {
            const data = projectData[id];
            const modal = document.getElementById('project-modal');
            
            // Cargar datos
            document.getElementById('modal-main-img').src = data.img;
            document.getElementById('modal-desc').innerHTML = data.text;
            
            const galleryContainer = document.getElementById('modal-gallery');
            galleryContainer.innerHTML = ''; // Limpiar anterior
            data.gallery.forEach(src => {
                const img = document.createElement('img');
                img.src = src;
                img.className = 'gallery-img';
                galleryContainer.appendChild(img);
            });

            // Mostrar modal
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden'; // Bloquear scroll body
        }

        function closeModal() {
            document.getElementById('project-modal').style.display = 'none';
            document.body.style.overflow = 'auto'; // Restaurar scroll
            
            // Resetear animaciones
            document.querySelector('.project-description').classList.remove('visible');
        }

        // Efecto Scroll Texto Modal
        document.getElementById('project-modal').addEventListener('scroll', function() {
            const desc = document.querySelector('.project-description');
            const scrollPos = this.scrollTop;
            
            if (scrollPos > 300) {
                desc.classList.add('visible');
            }
        });


        // --- 5. COOKIES ---
        function closeCookies() {
            document.getElementById('cookieBanner').style.display = 'none';
        }

        // --- 6. NAV ACTIVE STATE ---
        function activateNav(el) {
            document.querySelectorAll('nav a').forEach(a => a.classList.remove('active-nav'));
            el.classList.add('active-nav');
        }

    </script>
</body>
</html>